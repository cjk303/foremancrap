1Ô∏è‚É£ requirements.txt

Add these lines to your existing list:

pyvmomi==8.1.0
pyvim==3.0.3
cryptography==41.0.0  # optional bump, if compatible
requests>=2.31.0


That gives you all the VMware API bindings and encryption support for your cache script.

If you prefer, you can keep cryptography pinned at your distro version ‚Äî it‚Äôs already in bindep, so pip will skip it if already satisfied.

2Ô∏è‚É£ Optionally add community.vmware to requirements.yml

That‚Äôs not required for your Python script, but it‚Äôs useful if you later want to automate snapshot verification or vCenter queries with native Ansible modules.

collections:
  - name: ansible-posix-1.5.4.tar.gz
    version: 1.5.4
  - name: community.vmware
    version: "3.11.0"
üß± Build Commands (same as you already use)

You can rebuild the EE exactly the same way:

ansible-builder build -t awx-ee-epiq-dzdo:latest --container-runtime podman
podman tag awx-ee-epiq-dzdo:latest localhost:32000/awx-ee-epiq-dzdo:latest
podman push localhost:32000/awx-ee-epiq-dzdo:latest


Once it‚Äôs pushed, AWX will automatically start using the new version if the image name is the same.

üß† Why This Is Ideal

You already have every system dependency to build PyVmomi (OpenSSL, libffi, headers).

Using CRB ensures access to newer Python packages like wheel.

Using pip install -r requirements.txt means Python dependencies are layered cleanly.

You can continue to use your private registry and AWX operator (awx.yml) unchanged.
